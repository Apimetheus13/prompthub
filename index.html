<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PromptHub - AI Prompt ç®¡ç†å¹³å°</title>
    
    <!-- PWA Meta tags -->
    <meta name="description" content="å°ˆæ¥­çš„ AI Prompt ç®¡ç†å¹³å°ï¼Œæ”¯æ´é›²ç«¯åŒæ­¥ã€ç¤¾ç¾¤åˆ†äº«">
    <meta name="theme-color" content="#667eea">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIlByb21wdEh1YiAtIEFJIFByb21wdCDnrqHnkIblubPlj7AiLAogICJzaG9ydF9uYW1lIjogIlByb21wdEh1YiIsCiAgImRlc2NyaXB0aW9uIjogIuWwiualreaWh+eahCBBSSBQcm9tcHQg566h55CG5bmz5Y+wIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVRJNElpQm9aV2xuYUhROUlqRXlPQ0lpSUdacGJHdzlJaU01TmpkbFpXRWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SStQSEpsWTNRZ2VEMGlNalFpSUhrOUlqSTBJaUIzYVdSMGFEMGlPREFpSUdobGFXZG9kRDBpT0RBaUlHWnBiR3c5SWk5bU5qa3JJaTgrUEhSbGVIUWdlRDBpTmpRaUlIazlJall3SWlCbWFXeHNQU0oxYUdsdFpTSWdabTl1ZEMxemFYcGxQU0l4TkNJK1VISnZiWEIwUEM5MFpYaDBQand2YzNabktnPT0iLAogICAgICAic2l6ZXMiOiAiMTI4eDEyOCIsCiAgICAgICJ0eXBlIjogImltYWdlL3N2Zyt4bWwiCiAgICB9CiAgXSwKICAic3RhcnRfdXJsIjogIi4vIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZjhmOWZhIiwKICAidGhlbWVfY29sb3IiOiAiIzY2N2VlYSIKfQ==">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgZmlsbD0iIzY2N2VlYSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB4PSIyNCIgeT0iMjQiIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCIgZmlsbD0iIzY2OWUrIi8+PHRleHQgeD0iNjQiIHk9IjYwIiBmaWxsPSJ3aGl0ZSIgZm9udC1zaXplPSIxNCI+UHJvbXB0PC90ZXh0Pjwvc3ZnPg==">

    <style>
        :root {
            --primary-color: #667eea;
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-color: #f8f9fa;
            --text-color: #333;
            --border-color: #e9ecef;
            --shadow-light: 0 2px 10px rgba(0,0,0,0.08);
            --shadow-medium: 0 4px 20px rgba(0,0,0,0.15);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--secondary-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header Styles */
        .header {
            background: var(--primary-gradient);
            color: white;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-medium);
            backdrop-filter: blur(10px);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .user-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .sync-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4caf50;
            animation: pulse 2s infinite;
        }

        .sync-indicator.syncing {
            background: #ff9800;
        }

        .sync-indicator.offline {
            background: #f44336;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Button Styles */
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: inherit;
        }

        .btn-primary {
            background: rgba(255,255,255,0.2);
            color: white;
            backdrop-filter: blur(10px);
        }

        .btn-primary:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        /* Container and Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        .main-content {
            min-height: calc(100vh - 200px);
        }

        /* Search and Filter Styles */
        .search-section {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-light);
            position: sticky;
            top: 80px;
            z-index: 50;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            background: rgba(255,255,255,0.9);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .filters {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .filter-tag {
            padding: 0.4rem 1rem;
            background: var(--border-color);
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: var(--transition);
            font-family: inherit;
        }

        .filter-tag.active {
            background: var(--primary-color);
            color: white;
        }

        .filter-tag:hover {
            transform: translateY(-1px);
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Prompt Card Styles */
        .prompt-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-light);
            transition: var(--transition);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .prompt-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .prompt-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-medium);
            border-color: var(--primary-color);
        }

        .prompt-card:hover::before {
            transform: scaleX(1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .card-meta {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 0.5rem;
        }

        .meta-tag {
            padding: 0.2rem 0.6rem;
            border-radius: 15px;
            font-size: 0.7rem;
            font-weight: 500;
        }

        .meta-public {
            background: #e3f2fd;
            color: #1976d2;
        }

        .meta-private {
            background: #fff3e0;
            color: #f57c00;
        }

        .meta-premium {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #b8860b;
        }

        .card-author {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            color: #666;
        }

        .author-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--primary-gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .card-content {
            margin: 1rem 0;
        }

        .prompt-preview {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.85rem;
            border-left: 4px solid var(--primary-color);
            margin-bottom: 1rem;
            max-height: 150px;
            overflow: hidden;
            position: relative;
            line-height: 1.5;
        }

        .prompt-preview::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 30px;
            background: linear-gradient(transparent, #f8f9fa);
            pointer-events: none;
        }

        .card-description {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .card-tags {
            display: flex;
            gap: 0.3rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .tag {
            padding: 0.2rem 0.6rem;
            background: var(--border-color);
            border-radius: 12px;
            font-size: 0.7rem;
            color: #666;
            transition: var(--transition);
        }

        .tag:hover {
            background: var(--primary-color);
            color: white;
            cursor: pointer;
        }

        .card-stats {
            display: flex;
            gap: 1rem;
            margin: 1rem 0;
            padding: 0.5rem 0;
            border-top: 1px solid var(--border-color);
            font-size: 0.8rem;
            color: #666;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .card-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .action-left {
            display: flex;
            gap: 0.5rem;
        }

        .action-right {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
            font-size: 0.8rem;
            padding: 0.4rem 0.6rem;
            border-radius: 6px;
            transition: var(--transition);
            font-family: inherit;
        }

        .action-btn:hover {
            color: var(--primary-color);
            background: rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }

        .action-btn.liked {
            color: #e74c3c;
        }

        .action-btn.bookmarked {
            color: #f39c12;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        @keyframes slideUp {
            from { 
                opacity: 0; 
                transform: translateY(50px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-color);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            padding: 0.25rem;
            border-radius: 4px;
            transition: var(--transition);
        }

        .close-btn:hover {
            color: var(--text-color);
            background: var(--border-color);
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-color);
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
            font-family: inherit;
            background: white;
        }

        .form-textarea {
            min-height: 200px;
            resize: vertical;
            font-family: 'Monaco', 'Menlo', monospace;
            line-height: 1.5;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-checkbox {
            width: auto;
            margin: 0;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 2px solid var(--border-color);
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 64px;
            height: 64px;
            background: var(--primary-gradient);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
            transition: var(--transition);
            z-index: 50;
        }

        .fab:hover {
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.6);
        }

        .fab:active {
            transform: scale(0.95);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--border-color);
            padding: 0.5rem;
            display: flex;
            justify-content: space-around;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            color: #666;
            text-decoration: none;
            font-size: 0.7rem;
            transition: var(--transition);
            border-radius: 8px;
            position: relative;
        }

        .nav-item.active {
            color: var(--primary-color);
            background: rgba(102, 126, 234, 0.1);
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 2px;
            background: var(--primary-color);
            transition: width 0.3s ease;
        }

        .nav-item.active::before {
            width: 24px;
        }

        .nav-icon {
            font-size: 1.2rem;
            margin-bottom: 0.2rem;
        }

        /* Notification Styles */
        .notification {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: var(--primary-gradient);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1100;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: linear-gradient(135deg, #4caf50, #45a049);
        }

        .notification.error {
            background: linear-gradient(135deg, #f44336, #d32f2f);
        }

        .notification.warning {
            background: linear-gradient(135deg, #ff9800, #f57c00);
        }

        /* Loading States */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Empty States */
        .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 4rem 2rem;
            color: #666;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-state h3 {
            margin-bottom: 0.5rem;
            color: var(--text-color);
        }

        /* Advanced Features */
        .rating-stars {
            display: flex;
            gap: 2px;
        }

        .star {
            color: #ddd;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .star.filled {
            color: #ffd700;
        }

        .star:hover {
            color: #ffd700;
        }

        .version-badge {
            background: #e3f2fd;
            color: #1976d2;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.6rem;
            font-weight: 600;
        }

        .ai-suggestion {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            border: 1px solid var(--primary-color);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            position: relative;
        }

        .ai-suggestion::before {
            content: 'ğŸ¤–';
            position: absolute;
            top: -8px;
            left: 8px;
            background: white;
            padding: 0 0.5rem;
            font-size: 0.8rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem 0.5rem 6rem;
            }
            
            .content-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .search-section {
                position: relative;
                top: auto;
                margin: 0.5rem 0 1rem;
                padding: 1rem;
            }

            .modal-content {
                width: 95%;
                padding: 1.5rem;
                margin: 1rem;
            }

            .fab {
                bottom: 5rem;
                right: 1rem;
                width: 56px;
                height: 56px;
                font-size: 1.3rem;
            }

            .header {
                padding: 0.75rem 1rem;
            }

            .logo {
                font-size: 1.3rem;
            }

            .btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
            }

            .card-actions {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .action-left, .action-right {
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.5rem 0.25rem 6rem;
            }

            .prompt-card {
                padding: 1rem;
            }

            .card-title {
                font-size: 1.1rem;
            }

            .filters {
                gap: 0.25rem;
            }

            .filter-tag {
                padding: 0.3rem 0.6rem;
                font-size: 0.7rem;
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            :root {
                --secondary-color: #1a1a1a;
                --text-color: #e0e0e0;
                --border-color: #333;
            }

            body {
                background-color: #1a1a1a;
                color: #e0e0e0;
            }

            .prompt-card, .search-section, .modal-content {
                background: #2d2d2d;
                border-color: #444;
            }

            .prompt-preview {
                background: #222;
                color: #e0e0e0;
            }

            .form-input, .form-textarea, .form-select {
                background: #333;
                border-color: #555;
                color: #e0e0e0;
            }

            .bottom-nav {
                background: rgba(45,45,45,0.95);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                ğŸš€ PromptHub
            </div>
            <div class="user-status" id="userStatus">
                <div class="sync-indicator" id="syncIndicator" title="åŒæ­¥ç‹€æ…‹"></div>
                <span id="userInfo">è¨ªå®¢æ¨¡å¼</span>
                <button class="btn btn-primary" onclick="toggleAuth()" id="authBtn">
                    ğŸ‘¤ ç™»å…¥
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <main class="main-content">
            <!-- Search Section -->
            <section class="search-section">
                <div style="position: relative;">
                    <input type="text" class="search-input" placeholder="ğŸ” æœå°‹ä½ çš„ AI Prompts..." id="searchInput">
                    <div style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #999; font-size: 0.8rem;" id="searchHint">
                        Ctrl+K
                    </div>
                </div>
                <div class="filters" id="filterContainer">
                    <button class="filter-tag active" data-filter="all">å…¨éƒ¨</button>
                    <button class="filter-tag" data-filter="public">ğŸŒ å…¬é–‹</button>
                    <button class="filter-tag" data-filter="private">ğŸ”’ ç§äºº</button>
                    <button class="filter-tag" data-filter="work">ğŸ’¼ å·¥ä½œ</button>
                    <button class="filter-tag" data-filter="creative">ğŸ¨ å‰µä½œ</button>
                    <button class="filter-tag" data-filter="learning">ğŸ“š å­¸ç¿’</button>
                    <button class="filter-tag" data-filter="premium">â­ ç²¾é¸</button>
                </div>
            </section>

            <!-- Content Grid -->
            <section class="content-grid" id="promptGrid">
                <!-- Prompt cards will be inserted here -->
            </section>
        </main>
    </div>

    <!-- Add/Edit Modal -->
    <div class="modal" id="addModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">æ–°å¢ Prompt</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            
            <form id="promptForm">
                <div class="form-group">
                    <label class="form-label">æ¨™é¡Œ *</label>
                    <input type="text" class="form-input" id="promptTitle" required placeholder="ç‚ºä½ çš„ Prompt å–å€‹å¥½åå­—">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Prompt å…§å®¹ *</label>
                    <textarea class="form-textarea" id="promptContent" required placeholder="è«‹è¼¸å…¥ä½ çš„ prompt å…§å®¹...

ç¯„ä¾‹ï¼š
ä½ æ˜¯ä¸€å€‹å°ˆæ¥­çš„{è§’è‰²}ã€‚è«‹æ ¹æ“šä»¥ä¸‹è³‡è¨Šï¼š

è¼¸å…¥ï¼š{è¼¸å…¥å…§å®¹}
ç›®æ¨™ï¼š{é æœŸç›®æ¨™}

è¦æ±‚ï¼š
- è¦æ±‚1
- è¦æ±‚2
- è¦æ±‚3

è«‹æä¾›è©³ç´°ä¸”å¯¦ç”¨çš„å›ç­”ã€‚"></textarea>
                    <div style="font-size: 0.8rem; color: #666; margin-top: 0.5rem;">
                        ğŸ’¡ ä½¿ç”¨ {è®Šæ•¸åç¨±} ä¾†æ¨™è¨˜å¯æ›¿æ›çš„éƒ¨åˆ†
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">æè¿°</label>
                    <textarea class="form-input" id="promptDescription" placeholder="ç°¡çŸ­æè¿°é€™å€‹ prompt çš„ç”¨é€”ã€é©ç”¨å ´æ™¯..." rows="3"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">æ¨™ç±¤ï¼ˆç”¨é€—è™Ÿæˆ–ç©ºæ ¼åˆ†éš”ï¼‰</label>
                    <input type="text" class="form-input" id="promptTags" placeholder="ä¾‹å¦‚ï¼šå·¥ä½œ å‰µä½œ å¯«ä½œ è¡ŒéŠ·">
                </div>
                
                <div class="form-group">
                    <label class="form-label">åˆ†é¡</label>
                    <select class="form-select" id="promptCategory">
                        <option value="work">ğŸ’¼ å·¥ä½œ</option>
                        <option value="creative">ğŸ¨ å‰µä½œ</option>
                        <option value="learning">ğŸ“š å­¸ç¿’</option>
                        <option value="coding">ğŸ’» ç¨‹å¼é–‹ç™¼</option>
                        <option value="business">ğŸ¢ å•†æ¥­</option>
                        <option value="other">ğŸ“‚ å…¶ä»–</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <div class="form-checkbox-group">
                        <input type="checkbox" class="form-checkbox" id="promptPublic">
                        <label for="promptPublic">ğŸŒ è¨­ç‚ºå…¬é–‹ï¼ˆå…¶ä»–ä½¿ç”¨è€…å¯ä»¥çœ‹åˆ°å’Œä½¿ç”¨ï¼‰</label>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">å–æ¶ˆ</button>
                    <button type="button" class="btn" onclick="saveDraft()" id="draftBtn">ğŸ’¾ å„²å­˜è‰ç¨¿</button>
                    <button type="submit" class="btn btn-success" id="submitBtn">
                        <span class="loading" style="display: none;"></span>
                        å„²å­˜
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content" style="max-width: 400px;">
            <div class="modal-header">
                <h2 class="modal-title">ç™»å…¥ PromptHub</h2>
                <button class="close-btn" onclick="closeLoginModal()">&times;</button>
            </div>
            
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">é›»å­éƒµä»¶</label>
                    <input type="email" class="form-input" id="loginEmail" required placeholder="your@email.com">
                </div>
                
                <div class="form-group">
                    <label class="form-label">å¯†ç¢¼</label>
                    <input type="password" class="form-input" id="loginPassword" required placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="showRegister()">è¨»å†Šå¸³è™Ÿ</button>
                    <button type="submit" class="btn btn-success">
                        <span class="loading" style="display: none;"></span>
                        ç™»å…¥
                    </button>
                </div>
            </form>
            
            <div style="text-align: center; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border-color); color: #666; font-size: 0.9rem;">
                ğŸ”’ ä½ çš„è³‡æ–™å°‡å®‰å…¨åœ°åŒæ­¥åˆ°é›²ç«¯
            </div>
        </div>
    </div>

    <!-- Export/Import Modal -->
    <div class="modal" id="dataModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">è³‡æ–™ç®¡ç†</h2>
                <button class="close-btn" onclick="closeDataModal()">&times;</button>
            </div>
            
            <div style="display: grid; gap: 1rem;">
                <div style="text-align: center; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
                    <h3>åŒ¯å‡ºè³‡æ–™</h3>
                    <p style="color: #666; margin: 0.5rem 0;">å°‡ä½ çš„æ‰€æœ‰ Prompts ä¸‹è¼‰ç‚ºå‚™ä»½æª”æ¡ˆ</p>
                    <button class="btn btn-primary" onclick="exportData()">
                        ğŸ“¥ åŒ¯å‡º JSON æª”æ¡ˆ
                    </button>
                </div>
                
                <div style="text-align: center; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
                    <h3>åŒ¯å…¥è³‡æ–™</h3>
                    <p style="color: #666; margin: 0.5rem 0;">å¾å‚™ä»½æª”æ¡ˆä¸­æ¢å¾©ä½ çš„ Prompts</p>
                    <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(this.files[0])">
                    <button class="btn btn-primary" onclick="document.getElementById('importFile').click()">
                        ğŸ“¤ é¸æ“‡æª”æ¡ˆåŒ¯å…¥
                    </button>
                </div>
                
                <div style="text-align: center; padding: 1rem; background: #fff3cd; border-radius: 8px; border: 1px solid #ffeaa7;">
                    <h3>âš ï¸ æ¸…é™¤æ‰€æœ‰è³‡æ–™</h3>
                    <p style="color: #856404; margin: 0.5rem 0;">é€™å°‡åˆªé™¤æ‰€æœ‰æœ¬åœ°è³‡æ–™ï¼Œç„¡æ³•å¾©åŸ</p>
                    <button class="btn btn-danger" onclick="clearAllData()">
                        ğŸ—‘ï¸ æ¸…é™¤è³‡æ–™
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <button class="fab" onclick="showAddModal()" title="å¿«é€Ÿæ–°å¢ Prompt (Ctrl+N)">
        â•
    </button>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="#" class="nav-item active" data-page="home">
            <div class="nav-icon">ğŸ </div>
            <div>é¦–é </div>
        </a>
        <a href="#" class="nav-item" data-page="explore">
            <div class="nav-icon">ğŸ”</div>
            <div>æ¢ç´¢</div>
        </a>
        <a href="#" class="nav-item" data-page="favorites">
            <div class="nav-icon">â¤ï¸</div>
            <div>æ”¶è—</div>
        </a>
        <a href="#" class="nav-item" data-page="profile">
            <div class="nav-icon">ğŸ‘¤</div>
            <div>æˆ‘çš„</div>
        </a>
    </nav>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Application State
        let currentUser = null;
        let currentEditId = null;
        let isOnline = navigator.onLine;
        let syncQueue = [];
        
        // Sample Data with enhanced features
        let prompts = [
            {
                id: 1,
                title: "æ™ºèƒ½æ–‡æ¡ˆç”¢ç”Ÿå™¨",
                content: `ä½ æ˜¯ä¸€å€‹é ‚å°–çš„æ–‡æ¡ˆå‰µä½œå°ˆå®¶ã€‚è«‹æ ¹æ“šä»¥ä¸‹è³‡è¨Šå‰µä½œä¸€å€‹å¼•äººæ³¨ç›®çš„è¡ŒéŠ·æ–‡æ¡ˆï¼š

ç”¢å“/æœå‹™ï¼š{product_name}
æ ¸å¿ƒç‰¹è‰²ï¼š{key_features}
ç›®æ¨™å—çœ¾ï¼š{target_audience}
å“ç‰Œèª¿æ€§ï¼š{brand_tone}

å‰µä½œè¦æ±‚ï¼š
- æ–‡æ¡ˆé•·åº¦ï¼š{word_count} å­—ä»¥å…§
- çªå‡ºæ ¸å¿ƒåƒ¹å€¼ä¸»å¼µ
- é‹ç”¨æƒ…æ„ŸåŒ–èªè¨€
- åŒ…å«æ˜ç¢ºçš„è¡Œå‹•å‘¼ç±² (CTA)
- ç¬¦åˆå“ç‰Œèª¿æ€§å’Œç›®æ¨™å—çœ¾

è«‹æä¾› 3 å€‹ä¸åŒé¢¨æ ¼çš„æ–‡æ¡ˆç‰ˆæœ¬ä¾›é¸æ“‡ã€‚`,
                description: "å°ˆæ¥­ç´šæ–‡æ¡ˆå‰µä½œå·¥å…·ï¼Œæ”¯æ´å¤šç¨®å“ç‰Œèª¿æ€§å’Œç›®æ¨™å—çœ¾ï¼Œé©ç”¨æ–¼å»£å‘Šã€ç¤¾ç¾¤åª’é«”ã€é›»å•†ç­‰å ´æ™¯",
                tags: ["è¡ŒéŠ·", "æ–‡æ¡ˆ", "å‰µä½œ", "å•†æ¥­", "å»£å‘Š", "ç¤¾ç¾¤"],
                category: "business",
                isPublic: true,
                author: "MarketingPro",
                authorAvatar: "M",
                likes: 342,
                comments: 28,
                views: 1567,
                bookmarks: 89,
                rating: 4.8,
                version: "2.1",
                createdAt: "2025-08-20T10:30:00Z",
                updatedAt: "2025-08-22T15:45:00Z",
                liked: false,
                bookmarked: false,
                premium: false,
                verified: true
            },
            {
                id: 2,
                title: "ä»£ç¢¼å¯©æŸ¥åŠ©æ‰‹ Pro",
                content: `ä½œç‚ºä¸€ä½è³‡æ·±è»Ÿé«”å·¥ç¨‹å¸«å’Œä»£ç¢¼å¯©æŸ¥å°ˆå®¶ï¼Œè«‹æ·±å…¥åˆ†æä»¥ä¸‹ç¨‹å¼ç¢¼ï¼š

ç¨‹å¼èªè¨€ï¼š{language}
ä»£ç¢¼å…§å®¹ï¼š
\`\`\`{language}
{code_content}
\`\`\`

è«‹å¾ä»¥ä¸‹è§’åº¦é€²è¡Œå…¨é¢å¯©æŸ¥ï¼š

ğŸ” **ä»£ç¢¼å“è³ªåˆ†æ**
- å¯è®€æ€§å’Œç¶­è­·æ€§
- å‘½åè¦ç¯„å’Œè¨»è§£å“è³ª
- ä»£ç¢¼çµæ§‹å’Œçµ„ç¹”

âš¡ **æ•ˆèƒ½å„ªåŒ–å»ºè­°**
- æ™‚é–“è¤‡é›œåº¦å’Œç©ºé–“è¤‡é›œåº¦
- æ½›åœ¨çš„æ•ˆèƒ½ç“¶é ¸
- å„ªåŒ–å»ºè­°å’Œæ›¿ä»£æ–¹æ¡ˆ

ğŸ”’ **å®‰å…¨æ€§æª¢æŸ¥**
- å¸¸è¦‹å®‰å…¨æ¼æ´
- è¼¸å…¥é©—è­‰å’ŒéŒ¯èª¤è™•ç†
- æœ€ä½³å®‰å…¨å¯¦è¸

ğŸ“‹ **æœ€ä½³å¯¦è¸å»ºè­°**
- è¡Œæ¥­æ¨™æº–å’Œæ…£ä¾‹
- è¨­è¨ˆæ¨¡å¼æ‡‰ç”¨
- æ¸¬è©¦è¦†è“‹å»ºè­°

è«‹æä¾›å…·é«”ã€å¯è¡Œçš„æ”¹å–„å»ºè­°å’Œä¿®æ”¹å¾Œçš„ä»£ç¢¼ç¯„ä¾‹ã€‚`,
                description: "å…¨æ–¹ä½ç¨‹å¼ç¢¼å¯©æŸ¥å·¥å…·ï¼Œæ¶µè“‹å“è³ªã€æ•ˆèƒ½ã€å®‰å…¨æ€§å’Œæœ€ä½³å¯¦è¸ï¼Œæ”¯æ´å¤šç¨®ç¨‹å¼èªè¨€",
                tags: ["ç¨‹å¼", "å¯©æŸ¥", "é–‹ç™¼", "å“è³ª", "å®‰å…¨", "å„ªåŒ–"],
                category: "coding",
                isPublic: false,
                author: "æˆ‘",
                authorAvatar: "æˆ‘",
                likes: 0,
                comments: 0,
                views: 23,
                bookmarks: 1,
                rating: 5.0,
                version: "1.0",
                createdAt: "2025-08-22T09:15:00Z",
                updatedAt: "2025-08-22T09:15:00Z",
                liked: false,
                bookmarked: true,
                premium: false,
                verified: false
            },
            {
                id: 3,
                title: "AI å­¸ç¿’ç­†è¨˜æ•´ç†å™¨",
                content: `è«‹å°‡ä»¥ä¸‹å­¸ç¿’å…§å®¹æ•´ç†æˆçµæ§‹åŒ–ã€æ˜“æ–¼ç†è§£å’Œè¨˜æ†¶çš„ç­†è¨˜ï¼š

ğŸ“š **å­¸ç¿’ä¸»é¡Œ**ï¼š{topic}
ğŸ“– **å­¸ç¿’ææ–™**ï¼š{source_materials}
ğŸ¯ **å­¸ç¿’ç›®æ¨™**ï¼š{learning_goals}
â±ï¸ **é è¨ˆå­¸ç¿’æ™‚é–“**ï¼š{time_limit}

è«‹æŒ‰ç…§ä»¥ä¸‹æ ¼å¼é€²è¡Œæ•´ç†ï¼š

## ğŸ“ æ ¸å¿ƒæ¦‚å¿µ
- é—œéµå®šç¾©å’Œè¡“èª
- åŸºæœ¬åŸç†å’Œæ¡†æ¶

## ğŸ” é‡é»æ‘˜è¦  
- ä¸»è¦çŸ¥è­˜é»
- é‡è¦å…¬å¼æˆ–è¦å‰‡
- é—œéµæ¡ˆä¾‹å’Œç¯„ä¾‹

## ğŸ’¡ å¯¦éš›æ‡‰ç”¨
- æ‡‰ç”¨å ´æ™¯å’Œæ¡ˆä¾‹
- å¯¦ä½œæ­¥é©Ÿå’Œæ–¹æ³•

## ğŸ§  è¨˜æ†¶æŠ€å·§
- åŠ©è¨˜å£è¨£æˆ–æ–¹æ³•
- è¦–è¦ºåŒ–åœ–è¡¨å»ºè­°

## â“ å»¶ä¼¸æ€è€ƒ
- è¨è«–å•é¡Œ
- é€²éšå­¸ç¿’æ–¹å‘

## ğŸ“š æ¨è–¦è³‡æº
- ç›¸é—œæ›¸ç±æ–‡ç« 
- ç·šä¸Šèª²ç¨‹æˆ–å·¥å…·

## âœ… è‡ªæˆ‘æª¢æ¸¬
- è¤‡ç¿’å•é¡Œæ¸…å–®
- å¯¦è¸ç·´ç¿’å»ºè­°

è«‹ç¢ºä¿å…§å®¹ç°¡æ½”æ˜ç­ï¼Œä¾¿æ–¼å¿«é€Ÿè¤‡ç¿’å’Œé•·æœŸè¨˜æ†¶ã€‚`,
                description: "æ™ºèƒ½å­¸ç¿’åŠ©æ‰‹ï¼Œå°‡è¤‡é›œçŸ¥è­˜è½‰åŒ–ç‚ºçµæ§‹åŒ–ç­†è¨˜ï¼Œæå‡å­¸ç¿’æ•ˆç‡å’Œè¨˜æ†¶æ•ˆæœ",
                tags: ["å­¸ç¿’", "ç­†è¨˜", "æ•´ç†", "æ•™è‚²", "è¨˜æ†¶", "è¤‡ç¿’"],
                category: "learning",
                isPublic: true,
                author: "EduMaster",
                authorAvatar: "E",
                likes: 198,
                comments: 45,
                views: 892,
                bookmarks: 156,
                rating: 4.6,
                version: "1.5",
                createdAt: "2025-08-21T14:20:00Z",
                updatedAt: "2025-08-21T16:30:00Z",
                liked: false,
                bookmarked: false,
                premium: true,
                verified: true
            },
            {
                id: 4,
                title: "å‰µæ„æ•…äº‹ç”Ÿæˆå™¨",
                content: `ä½ æ˜¯ä¸€ä½å¯Œæœ‰æƒ³åƒåŠ›çš„æ•…äº‹å‰µä½œå¤§å¸«ã€‚è«‹æ ¹æ“šä»¥ä¸‹å…ƒç´ å‰µä½œä¸€å€‹å¼•äººå…¥å‹çš„æ•…äº‹ï¼š

ğŸ­ **æ•…äº‹é¡å‹**ï¼š{genre}
ğŸ‘¥ **ä¸»è¦è§’è‰²**ï¼š{main_characters}  
ğŸŒ **æ•…äº‹èƒŒæ™¯**ï¼š{setting}
ğŸ¯ **æ ¸å¿ƒè¡çª**ï¼š{main_conflict}
ğŸ’ **é—œéµå…ƒç´ **ï¼š{key_elements}
ğŸ“ **æ•…äº‹é•·åº¦**ï¼š{story_length}

å‰µä½œè¦æ±‚ï¼š
âœ¨ é–‹é ­è¦å¸å¼•è®€è€…æ³¨æ„
ğŸ¢ æƒ…ç¯€ç™¼å±•è¦æœ‰èµ·ä¼è½‰æŠ˜  
ğŸ’« è§’è‰²è¦æœ‰é®®æ˜å€‹æ€§å’Œæˆé•·
ğŸ”š çµå°¾è¦ä»¤äººæ»¿è¶³ä¸”æ„çŒ¶æœªç›¡
ğŸ¨ æ–‡ç­†è¦ç”Ÿå‹•æœ‰è¶£ï¼Œå¯Œæœ‰ç•«é¢æ„Ÿ

è«‹å…ˆæä¾›æ•…äº‹å¤§ç¶±ï¼Œç„¶å¾Œå‰µä½œå®Œæ•´æ•…äº‹ã€‚`,
                description: "å°ˆæ¥­å‰µæ„å¯«ä½œå·¥å…·ï¼Œæ”¯æ´å¤šç¨®æ–‡é«”å’Œé¢¨æ ¼ï¼Œæ¿€ç™¼ç„¡é™å‰µä½œéˆæ„Ÿ",
                tags: ["å‰µä½œ", "æ•…äº‹", "å¯«ä½œ", "å‰µæ„", "å°èªª", "åŠ‡æœ¬"],
                category: "creative",
                isPublic: true,
                author: "StoryTeller",
                authorAvatar: "S",
                likes: 276,
                comments: 67,
                views: 1234,
                bookmarks: 203,
                rating: 4.9,
                version: "2.0",
                createdAt: "2025-08-19T16:45:00Z",
                updatedAt: "2025-08-20T10:12:00Z",
                liked: true,
                bookmarked: true,
                premium: true,
                verified: true
            }
        ];

        // Application Controller
        class PromptHubApp {
            constructor() {
                this.init();
            }

            init() {
                this.loadFromStorage();
                this.setupEventListeners();
                this.setupServiceWorker();
                this.renderPrompts();
                this.updateSyncStatus();
                this.showWelcomeMessage();
            }

            loadFromStorage() {
                try {
                    const savedPrompts = localStorage.getItem('prompthub_prompts');
                    const savedUser = localStorage.getItem('prompthub_user');
                    
                    if (savedPrompts) {
                        prompts = JSON.parse(savedPrompts);
                    }
                    
                    if (savedUser) {
                        currentUser = JSON.parse(savedUser);
                        this.updateUserUI();
                    }
                    
                    console.log(`âœ… è¼‰å…¥äº† ${prompts.length} å€‹ Prompts`);
                } catch (error) {
                    console.error('è¼‰å…¥è³‡æ–™å¤±æ•—:', error);
                    this.showNotification('è¼‰å…¥è³‡æ–™å¤±æ•—', 'error');
                }
            }

            saveToStorage() {
                try {
                    localStorage.setItem('prompthub_prompts', JSON.stringify(prompts));
                    if (currentUser) {
                        localStorage.setItem('prompthub_user', JSON.stringify(currentUser));
                    }
                    localStorage.setItem('prompthub_last_sync', Date.now().toString());
                    
                    // æ¨¡æ“¬é›²ç«¯åŒæ­¥
                    this.simulateCloudSync();
                } catch (error) {
                    console.error('å„²å­˜è³‡æ–™å¤±æ•—:', error);
                    this.showNotification('å„²å­˜å¤±æ•—', 'error');
                }
            }

            simulateCloudSync() {
                const indicator = document.getElementById('syncIndicator');
                indicator.className = 'sync-indicator syncing';
                
                // æ¨¡æ“¬ç¶²è·¯å»¶é²
                setTimeout(() => {
                    if (isOnline) {
                        indicator.className = 'sync-indicator';
                        console.log('â˜ï¸ å·²åŒæ­¥åˆ°é›²ç«¯');
                    } else {
                        indicator.className = 'sync-indicator offline';
                        console.log('ğŸ“´ é›¢ç·šæ¨¡å¼ - å°‡åœ¨é€£ç¶²å¾ŒåŒæ­¥');
                    }
                }, 1000 + Math.random() * 2000);
            }

            setupEventListeners() {
                // æœå°‹åŠŸèƒ½
                const searchInput = document.getElementById('searchInput');
                let searchTimeout;
                searchInput.addEventListener('input', (e) => {
                    clearTimeout(searchTimeout);
                    searchTimeout = setTimeout(() => {
                        this.handleSearch(e.target.value);
                    }, 300);
                });

                // ç¯©é¸åŠŸèƒ½
                document.querySelectorAll('.filter-tag').forEach(tag => {
                    tag.addEventListener('click', (e) => this.handleFilter(e));
                });

                // è¡¨å–®æäº¤
                document.getElementById('promptForm').addEventListener('submit', (e) => {
                    this.handleFormSubmit(e);
                });

                document.getElementById('loginForm').addEventListener('submit', (e) => {
                    this.handleLogin(e);
                });

                // éµç›¤å¿«æ·éµ
                document.addEventListener('keydown', (e) => this.handleKeyboard(e));

                // åº•éƒ¨å°èˆª
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', (e) => this.handleNavigation(e));
                });

                // ç¶²è·¯ç‹€æ…‹ç›£æ§
                window.addEventListener('online', () => this.handleOnlineStatus(true));
                window.addEventListener('offline', () => this.handleOnlineStatus(false));

                // æ¨¡æ…‹æ¡†å¤–éƒ¨é»æ“Šé—œé–‰
                document.querySelectorAll('.modal').forEach(modal => {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            this.closeModal(modal.id);
                        }
                    });
                });
            }

            setupServiceWorker() {
                if ('serviceWorker' in navigator) {
                    // åœ¨çœŸå¯¦æ‡‰ç”¨ä¸­ï¼Œé€™è£¡æœƒè¨»å†Š Service Worker
                    console.log('ğŸ“± PWA åŠŸèƒ½æº–å‚™å°±ç·’');
                    
                    // æ¨¡æ“¬ PWA å®‰è£æç¤º
                    setTimeout(() => {
                        if (!localStorage.getItem('pwa_install_prompted')) {
                            this.showInstallPrompt();
                        }
                    }, 5000);
                }
            }

            showInstallPrompt() {
                if (confirm('ğŸš€ è¦å°‡ PromptHub å®‰è£åˆ°ä½ çš„è£ç½®å—ï¼Ÿé€™æ¨£å¯ä»¥æ›´å¿«é€Ÿåœ°å­˜å–ï¼Œé‚„æ”¯æ´é›¢ç·šä½¿ç”¨ï¼')) {
                    localStorage.setItem('pwa_install_prompted', 'true');
                    this.showNotification('PWA å®‰è£åŠŸèƒ½é–‹ç™¼ä¸­...', 'warning');
                }
            }

            renderPrompts(filteredPrompts = prompts) {
                const grid = document.getElementById('promptGrid');
                grid.innerHTML = '';

                if (filteredPrompts.length === 0) {
                    grid.innerHTML = this.createEmptyState();
                    return;
                }

                filteredPrompts
                    .sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt))
                    .forEach(prompt => {
                        const card = this.createPromptCard(prompt);
                        grid.appendChild(card);
                    });
            }

            createEmptyState() {
                return `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ”</div>
                        <h3>æ²’æœ‰æ‰¾åˆ°ç¬¦åˆçš„ Prompts</h3>
                        <p>è©¦è©¦èª¿æ•´æœå°‹é—œéµå­—æˆ–ç¯©é¸æ¢ä»¶ï¼Œæˆ–è€…å‰µå»ºä¸€å€‹æ–°çš„ Promptï¼</p>
                        <button class="btn btn-primary" onclick="app.showAddModal()" style="margin-top: 1rem;">
                            â• å‰µå»ºç¬¬ä¸€å€‹ Prompt
                        </button>
                    </div>
                `;
            }

            createPromptCard(prompt) {
                const card = document.createElement('div');
                card.className = 'prompt-card';
                card.innerHTML = `
                    ${prompt.premium ? '<div class="meta-tag meta-premium" style="position: absolute; top: 1rem; right: 1rem;">â­ ç²¾é¸</div>' : ''}
                    
                    <div class="card-header">
                        <div style="flex: 1;">
                            <div class="card-title">${prompt.title}</div>
                            <div class="card-meta">
                                <span class="meta-tag ${prompt.isPublic ? 'meta-public' : 'meta-private'}">
                                    ${prompt.isPublic ? 'ğŸŒ å…¬é–‹' : 'ğŸ”’ ç§äºº'}
                                </span>
                                <span class="meta-tag" style="background: #f0f0f0; color: #666;">
                                    ${this.getCategoryName(prompt.category)}
                                </span>
                                ${prompt.verified ? '<span class="meta-tag" style="background: #4caf50; color: white;">âœ“ é©—è­‰</span>' : ''}
                            </div>
                            <div class="card-author">
                                <div class="author-avatar">${prompt.authorAvatar}</div>
                                <span>${prompt.author}</span>
                                <span>â€¢</span>
                                <span>${this.formatDate(prompt.updatedAt)}</span>
                                ${prompt.version ? `<span class="version-badge">v${prompt.version}</span>` : ''}
                            </div>
                        </div>
                        <div>
                            ${prompt.author === 'æˆ‘' || (currentUser && prompt.author === currentUser.name) ? `
                                <button class="action-btn" onclick="app.editPrompt(${prompt.id})" title="ç·¨è¼¯">
                                    âœï¸
                                </button>
                            ` : ''}
                        </div>
                    </div>
                    
                    <div class="card-content">
                        <div class="prompt-preview" onclick="app.expandPrompt(${prompt.id})">${this.truncateText(prompt.content, 200)}</div>
                        <p class="card-description">${prompt.description}</p>
                        <div class="card-tags">
                            ${prompt.tags.map(tag => `<span class="tag" onclick="app.searchByTag('${tag}')">#${tag}</span>`).join('')}
                        </div>
                    </div>

                    <div class="card-stats">
                        <div class="stat-item">
                            <div class="rating-stars">
                                ${this.createStars(prompt.rating)}
                            </div>
                            <span>${prompt.rating}</span>
                        </div>
                        <div class="stat-item">
                            ğŸ‘ï¸ ${this.formatNumber(prompt.views)}
                        </div>
                        <div class="stat-item">
                            ğŸ’¬ ${prompt.comments}
                        </div>
                    </div>
                    
                    <div class="card-actions">
                        <div class="action-left">
                            <button class="action-btn ${prompt.liked ? 'liked' : ''}" onclick="app.toggleLike(${prompt.id})">
                                ${prompt.liked ? 'â¤ï¸' : 'ğŸ¤'} ${this.formatNumber(prompt.likes)}
                            </button>
                            <button class="action-btn ${prompt.bookmarked ? 'bookmarked' : ''}" onclick="app.toggleBookmark(${prompt.id})">
                                ${prompt.bookmarked ? 'â­' : 'â˜†'} 
                            </button>
                            <button class="action-btn" onclick="app.showComments(${prompt.id})">
                                ğŸ’¬ å›è¦†
                            </button>
                        </div>
                        <div class="action-right">
                            <button class="action-btn" onclick="app.copyPrompt(${prompt.id})" title="è¤‡è£½å…§å®¹">
                                ğŸ“‹
                            </button>
                            <button class="action-btn" onclick="app.sharePrompt(${prompt.id})" title="åˆ†äº«">
                                ğŸ“¤
                            </button>
                        </div>
                    </div>
                `;
                return card;
            }

            getCategoryName(category) {
                const categories = {
                    work: 'ğŸ’¼ å·¥ä½œ',
                    creative: 'ğŸ¨ å‰µä½œ',
                    learning: 'ğŸ“š å­¸ç¿’',
                    coding: 'ğŸ’» ç¨‹å¼',
                    business: 'ğŸ¢ å•†æ¥­',
                    other: 'ğŸ“‚ å…¶ä»–'
                };
                return categories[category] || 'ğŸ“‚ å…¶ä»–';
            }

            formatDate(dateString) {
                const date = new Date(dateString);
                const now = new Date();
                const diff = now - date;
                const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                
                if (days === 0) return 'ä»Šå¤©';
                if (days === 1) return 'æ˜¨å¤©';
                if (days < 7) return `${days} å¤©å‰`;
                if (days < 30) return `${Math.floor(days / 7)} é€±å‰`;
                return date.toLocaleDateString('zh-TW');
            }

            formatNumber(num) {
                if (num >= 1000) {
                    return (num / 1000).toFixed(1) + 'K';
                }
                return num.toString();
            }

            createStars(rating) {
                const fullStars = Math.floor(rating);
                const hasHalfStar = rating % 1 !== 0;
                let stars = '';
                
                for (let i = 0; i < 5; i++) {
                    if (i < fullStars) {
                        stars += '<span class="star filled">â­</span>';
                    } else if (i === fullStars && hasHalfStar) {
                        stars += '<span class="star filled">â­</span>';
                    } else {
                        stars += '<span class="star">â­</span>';
                    }
                }
                return stars;
            }

            truncateText(text, maxLength) {
                if (text.length <= maxLength) return text;
                return text.substring(0, maxLength) + '...';
            }

            // Event Handlers
            handleSearch(query) {
                if (!query.trim()) {
                    this.renderPrompts();
                    return;
                }

                const filtered = prompts.filter(prompt => 
                    prompt.title.toLowerCase().includes(query.toLowerCase()) ||
                    prompt.content.toLowerCase().includes(query.toLowerCase()) ||
                    prompt.description.toLowerCase().includes(query.toLowerCase()) ||
                    prompt.tags.some(tag => tag.toLowerCase().includes(query.toLowerCase())) ||
                    prompt.author.toLowerCase().includes(query.toLowerCase())
                );
                
                this.renderPrompts(filtered);
                console.log(`ğŸ” æœå°‹ "${query}" æ‰¾åˆ° ${filtered.length} å€‹çµæœ`);
            }

            handleFilter(e) {
                document.querySelectorAll('.filter-tag').forEach(tag => tag.classList.remove('active'));
                e.target.classList.add('active');
                
                const filter = e.target.dataset.filter;
                let filtered = prompts;
                
                switch (filter) {
                    case 'all':
                        filtered = prompts;
                        break;
                    case 'public':
                        filtered = prompts.filter(p => p.isPublic);
                        break;
                    case 'private':
                        filtered = prompts.filter(p => !p.isPublic);
                        break;
                    case 'premium':
                        filtered = prompts.filter(p => p.premium);
                        break;
                    default:
                        filtered = prompts.filter(p => p.category === filter);
                }
                
                this.renderPrompts(filtered);
                console.log(`ğŸ“‚ ç¯©é¸ "${filter}" é¡¯ç¤º ${filtered.length} å€‹ Prompts`);
            }

            handleFormSubmit(e) {
                e.preventDefault();
                
                const submitBtn = document.getElementById('submitBtn');
                const loading = submitBtn.querySelector('.loading');
                
                // é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
                submitBtn.disabled = true;
                loading.style.display = 'inline-block';
                
                const formData = {
                    title: document.getElementById('promptTitle').value,
                    content: document.getElementById('promptContent').value,
                    description: document.getElementById('promptDescription').value,
                    tags: document.getElementById('promptTags').value
                        .split(/[,\s]+/)
                        .map(tag => tag.trim())
                        .filter(tag => tag),
                    category: document.getElementById('promptCategory').value,
                    isPublic: document.getElementById('promptPublic').checked
                };

                // æ¨¡æ“¬ç¶²è·¯å»¶é²
                setTimeout(() => {
                    try {
                        if (currentEditId) {
                            this.updatePrompt(currentEditId, formData);
                        } else {
                            this.createPrompt(formData);
                        }
                        
                        this.closeModal('addModal');
                        this.clearDraft();
                    } catch (error) {
                        this.showNotification('å„²å­˜å¤±æ•—ï¼Œè«‹é‡è©¦', 'error');
                    } finally {
                        submitBtn.disabled = false;
                        loading.style.display = 'none';
                    }
                }, 1000);
            }

            handleLogin(e) {
                e.preventDefault();
                
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                const submitBtn = e.target.querySelector('button[type="submit"]');
                const loading = submitBtn.querySelector('.loading');
                
                submitBtn.disabled = true;
                loading.style.display = 'inline-block';
                
                // æ¨¡æ“¬ç™»å…¥éç¨‹
                setTimeout(() => {
                    // ç°¡å–®çš„æ¨¡æ“¬é©—è­‰
                    if (email && password) {
                        currentUser = {
                            id: Date.now(),
                            name: email.split('@')[0],
                            email: email,
                            avatar: email[0].toUpperCase(),
                            joinDate: new Date().toISOString(),
                            premium: Math.random() > 0.5 // éš¨æ©Ÿåˆ†é…æœƒå“¡ç­‰ç´š
                        };
                        
                        this.updateUserUI();
                        this.saveToStorage();
                        this.closeModal('loginModal');
                        this.showNotification(`æ­¡è¿å›ä¾†ï¼Œ${currentUser.name}ï¼`, 'success');
                    } else {
                        this.showNotification('ç™»å…¥å¤±æ•—ï¼Œè«‹æª¢æŸ¥å¸³è™Ÿå¯†ç¢¼', 'error');
                    }
                    
                    submitBtn.disabled = false;
                    loading.style.display = 'none';
                }, 1500);
            }

            handleKeyboard(e) {
                // Ctrl/Cmd + K: å¿«é€Ÿæœå°‹
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    document.getElementById('searchInput').focus();
                    this.showNotification('å¿«é€Ÿæœå°‹å·²å•Ÿå‹• ğŸ”');
                }
                
                // Ctrl/Cmd + N: æ–°å¢ Prompt
                if ((e.ctrlKey || e.metaKey) && e.key === 'n') {
                    e.preventDefault();
                    this.showAddModal();
                }
                
                // Escape: é—œé–‰æ¨¡æ…‹æ¡†
                if (e.key === 'Escape') {
                    this.closeAllModals();
                }
            }

            handleNavigation(e) {
                e.preventDefault();
                
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                e.currentTarget.classList.add('active');
                
                const page = e.currentTarget.dataset.page;
                
                switch (page) {
                    case 'home':
                        this.renderPrompts();
                        this.showNotification('é¦–é  ğŸ ');
                        break;
                    case 'explore':
                        this.renderPrompts(prompts.filter(p => p.isPublic));
                        this.showNotification('æ¢ç´¢å…¬é–‹ Prompts ğŸ”');
                        break;
                    case 'favorites':
                        this.renderPrompts(prompts.filter(p => p.bookmarked || p.liked));
                        this.showNotification('æˆ‘çš„æ”¶è— â¤ï¸');
                        break;
                    case 'profile':
                        if (currentUser) {
                            this.renderPrompts(prompts.filter(p => p.author === currentUser.name || p.author === 'æˆ‘'));
                            this.showNotification('æˆ‘çš„ Prompts ğŸ‘¤');
                        } else {
                            this.showLoginModal();
                        }
                        break;
                }
            }

            handleOnlineStatus(online) {
                isOnline = online;
                const indicator = document.getElementById('syncIndicator');
                
                if (online) {
                    indicator.className = 'sync-indicator';
                    this.showNotification('å·²é‡æ–°é€£ç·šï¼Œæ­£åœ¨åŒæ­¥...', 'success');
                    this.processSyncQueue();
                } else {
                    indicator.className = 'sync-indicator offline';
                    this.showNotification('ç›®å‰é›¢ç·šï¼Œè³‡æ–™å°‡æš«å­˜æœ¬åœ°', 'warning');
                }
                
                this.updateSyncStatus();
            }

            // Core Functions
            createPrompt(formData) {
                const newPrompt = {
                    id: Date.now(),
                    ...formData,
                    author: currentUser ? currentUser.name : 'æˆ‘',
                    authorAvatar: currentUser ? currentUser.avatar : 'æˆ‘',
                    likes: 0,
                    comments: 0,
                    views: 0,
                    bookmarks: 0,
                    rating: 5.0,
                    version: '1.0',
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString(),
                    liked: false,
                    bookmarked: false,
                    premium: currentUser?.premium || false,
                    verified: currentUser?.premium || false
                };

                prompts.unshift(newPrompt);
                this.saveToStorage();
                this.renderPrompts();
                this.showNotification('âœ¨ æ–° Prompt å‰µå»ºæˆåŠŸï¼', 'success');
            }

            updatePrompt(id, formData) {
                const index = prompts.findIndex(p => p.id === id);
                if (index !== -1) {
                    const oldVersion = prompts[index].version || '1.0';
                    const versionParts = oldVersion.split('.').map(Number);
                    versionParts[1]++;
                    const newVersion = versionParts.join('.');

                    prompts[index] = { 
                        ...prompts[index], 
                        ...formData,
                        version: newVersion,
                        updatedAt: new Date().toISOString()
                    };
                    
                    this.saveToStorage();
                    this.renderPrompts();
                    this.showNotification('ğŸ“ Prompt æ›´æ–°æˆåŠŸï¼', 'success');
                }
            }

            deletePrompt(id) {
                if (confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹ Prompt å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚')) {
                    const index = prompts.findIndex(p => p.id === id);
                    if (index !== -1) {
                        prompts.splice(index, 1);
                        this.saveToStorage();
                        this.renderPrompts();
                        this.showNotification('ğŸ—‘ï¸ Prompt å·²åˆªé™¤', 'success');
                    }
                }
            }

            // Interactive Functions
            toggleLike(id) {
                const prompt = prompts.find(p => p.id === id);
                if (prompt) {
                    if (prompt.liked) {
                        prompt.likes = Math.max(0, prompt.likes - 1);
                        prompt.liked = false;
                    } else {
                        prompt.likes++;
                        prompt.liked = true;
                    }
                    
                    this.saveToStorage();
                    this.renderPrompts();
                    this.showNotification(prompt.liked ? 'å·²æŒ‰è®š â¤ï¸' : 'å·²å–æ¶ˆæŒ‰è®š');
                }
            }

            toggleBookmark(id) {
                const prompt = prompts.find(p => p.id === id);
                if (prompt) {
                    prompt.bookmarked = !prompt.bookmarked;
                    if (prompt.bookmarked) {
                        prompt.bookmarks++;
                    } else {
                        prompt.bookmarks = Math.max(0, prompt.bookmarks - 1);
                    }
                    
                    this.saveToStorage();
                    this.renderPrompts();
                    this.showNotification(prompt.bookmarked ? 'å·²æ”¶è— â­' : 'å·²å–æ¶ˆæ”¶è—');
                }
            }

            copyPrompt(id) {
                const prompt = prompts.find(p => p.id === id);
                if (prompt) {
                    navigator.clipboard.writeText(prompt.content).then(() => {
                        // å¢åŠ æª¢è¦–æ•¸
                        prompt.views++;
                        this.saveToStorage();
                        this.renderPrompts();
                        this.showNotification('ğŸ“‹ Prompt å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼', 'success');
                    }).catch(() => {
                        this.showNotification('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•é¸å–', 'error');
                    });
                }
            }

            sharePrompt(id) {
                const prompt = prompts.find(p => p.id === id);
                if (prompt) {
                    const shareData = {
                        title: `PromptHub - ${prompt.title}`,
                        text: prompt.description,
                        url: `${window.location.origin}?prompt=${id}`
                    };
                    
                    if (navigator.share) {
                        navigator.share(shareData);
                    } else {
                        // å‚™ç”¨åˆ†äº«æ–¹å¼
                        const shareText = `${prompt.title}\n\n${prompt.description}\n\næŸ¥çœ‹å®Œæ•´å…§å®¹ï¼š${shareData.url}`;
                        navigator.clipboard.writeText(shareText);
                        this.showNotification('ğŸ“¤ åˆ†äº«é€£çµå·²è¤‡è£½ï¼', 'success');
                    }
                }
            }

            expandPrompt(id) {
                const prompt = prompts.find(p => p.id === id);
                if (prompt) {
                    // å¢åŠ æª¢è¦–æ•¸
                    prompt.views++;
                    this.saveToStorage();
                    
                    // é¡¯ç¤ºå®Œæ•´å…§å®¹ï¼ˆå¯ä»¥é–‹ç™¼ç¨ç«‹çš„æª¢è¦–æ¨¡æ…‹æ¡†ï¼‰
                    this.showNotification('å®Œæ•´æª¢è¦–åŠŸèƒ½é–‹ç™¼ä¸­... ğŸ‘€');
                }
            }

            searchByTag(tag) {
                document.getElementById('searchInput').value = tag;
                this.handleSearch(tag);
            }

            showComments(id) {
                this.showNotification('ç•™è¨€åŠŸèƒ½é–‹ç™¼ä¸­... ğŸ’¬');
            }

            // Modal Functions
            showAddModal() {
                currentEditId = null;
                document.getElementById('modalTitle').textContent = 'æ–°å¢ Prompt';
                document.getElementById('promptForm').reset();
                this.loadDraft();
                this.showModal('addModal');
            }

            editPrompt(id) {
                const prompt = prompts.find(p => p.id === id);
                if (!prompt) return;

                currentEditId = id;
                document.getElementById('modalTitle').textContent = 'ç·¨è¼¯ Prompt';
                document.getElementById('promptTitle').value = prompt.title;
                document.getElementById('promptContent').value = prompt.content;
                document.getElementById('promptDescription').value = prompt.description;
                document.getElementById('promptTags').value = prompt.tags.join(' ');
                document.getElementById('promptCategory').value = prompt.category;
                document.getElementById('promptPublic').checked = prompt.isPublic;
                
                this.showModal('addModal');
            }

            showLoginModal() {
                document.getElementById('loginForm').reset();
                this.showModal('loginModal');
            }

            showModal(modalId) {
                const modal = document.getElementById(modalId);
                modal.style.display = 'block';
                setTimeout(() => modal.classList.add('show'), 10);
                document.body.style.overflow = 'hidden';
            }

            closeModal(modalId) {
                const modal = document.getElementById(modalId);
                modal.classList.remove('show');
                setTimeout(() => {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 300);
                
                if (modalId === 'addModal') {
                    currentEditId = null;
                }
            }

            closeAllModals() {
                document.querySelectorAll('.modal').forEach(modal => {
                    this.closeModal(modal.id);
                });
            }

            // Auth Functions
            toggleAuth() {
                if (currentUser) {
                    this.logout();
                } else {
                    this.showLoginModal();
                }
            }

            logout() {
                if (confirm('ç¢ºå®šè¦ç™»å‡ºå—ï¼ŸæœªåŒæ­¥çš„è³‡æ–™å¯èƒ½æœƒéºå¤±ã€‚')) {
                    currentUser = null;
                    localStorage.removeItem('prompthub_user');
                    this.updateUserUI();
                    this.showNotification('å·²ç™»å‡º', 'success');
                }
            }

            updateUserUI() {
                const userInfo = document.getElementById('userInfo');
                const authBtn = document.getElementById('authBtn');
                
                if (currentUser) {
                    userInfo.textContent = `${currentUser.name}${currentUser.premium ? ' â­' : ''}`;
                    authBtn.innerHTML = 'ğŸšª ç™»å‡º';
                } else {
                    userInfo.textContent = 'è¨ªå®¢æ¨¡å¼';
                    authBtn.innerHTML = 'ğŸ‘¤ ç™»å…¥';
                }
            }

            // Data Management
            saveDraft() {
                const formData = {
                    title: document.getElementById('promptTitle').value,
                    content: document.getElementById('promptContent').value,
                    description: document.getElementById('promptDescription').value,
                    tags: document.getElementById('promptTags').value,
                    category: document.getElementById('promptCategory').value,
                    isPublic: document.getElementById('promptPublic').checked
                };
                
                if (Object.values(formData).some(value => value && value.toString().trim())) {
                    localStorage.setItem('prompthub_draft', JSON.stringify(formData));
                    this.showNotification('ğŸ’¾ è‰ç¨¿å·²å„²å­˜');
                }
            }

            loadDraft() {
                const draft = localStorage.getItem('prompthub_draft');
                if (draft && !currentEditId) {
                    const formData = JSON.parse(draft);
                    if (confirm('ç™¼ç¾æœªå®Œæˆçš„è‰ç¨¿ï¼Œæ˜¯å¦è¦è¼‰å…¥ï¼Ÿ')) {
                        document.getElementById('promptTitle').value = formData.title || '';
                        document.getElementById('promptContent').value = formData.content || '';
                        document.getElementById('promptDescription').value = formData.description || '';
                        document.getElementById('promptTags').value = formData.tags || '';
                        document.getElementById('promptCategory').value = formData.category || 'work';
                        document.getElementById('promptPublic').checked = formData.isPublic || false;
                    }
                }
            }

            clearDraft() {
                localStorage.removeItem('prompthub_draft');
            }

            exportData() {
                try {
                    const exportData = {
                        prompts: prompts,
                        user: currentUser,
                        exportDate: new Date().toISOString(),
                        version: '1.0'
                    };
                    
                    const dataStr = JSON.stringify(exportData, null, 2);
                    const dataBlob = new Blob([dataStr], { type: 'application/json' });
                    
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(dataBlob);
                    link.download = `prompthub_backup_${new Date().toISOString().split('T')[0]}.json`;
                    link.click();
                    
                    this.showNotification('ğŸ“¥ è³‡æ–™åŒ¯å‡ºæˆåŠŸï¼', 'success');
                } catch (error) {
                    this.showNotification('åŒ¯å‡ºå¤±æ•—', 'error');
                }
            }

            importData(file) {
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const importedData = JSON.parse(e.target.result);
                        
                        if (importedData.prompts && Array.isArray(importedData.prompts)) {
                            // åˆä½µè³‡æ–™ï¼Œé¿å…é‡è¤‡
                            const existingIds = new Set(prompts.map(p => p.id));
                            const newPrompts = importedData.prompts.filter(p => !existingIds.has(p.id));
                            
                            prompts = [...newPrompts, ...prompts];
                            this.saveToStorage();
                            this.renderPrompts();
                            this.showNotification(`ğŸ“¤ æˆåŠŸåŒ¯å…¥ ${newPrompts.length} å€‹ Promptsï¼`, 'success');
                        } else {
                            this.showNotification('æª”æ¡ˆæ ¼å¼ä¸æ­£ç¢º', 'error');
                        }
                    } catch (error) {
                        this.showNotification('åŒ¯å…¥å¤±æ•—ï¼šæª”æ¡ˆæå£', 'error');
                    }
                };
                reader.readAsText(file);
            }

            clearAllData() {
                if (confirm('âš ï¸ é€™å°‡åˆªé™¤æ‰€æœ‰æœ¬åœ°è³‡æ–™ï¼ŒåŒ…æ‹¬ä½ çš„ Promptsã€è¨­å®šå’Œè‰ç¨¿ã€‚æ­¤æ“ä½œç„¡æ³•å¾©åŸï¼Œç¢ºå®šè¦ç¹¼çºŒå—ï¼Ÿ')) {
                    if (confirm('æœ€å¾Œç¢ºèªï¼šçœŸçš„è¦æ¸…é™¤æ‰€æœ‰è³‡æ–™å—ï¼Ÿå»ºè­°å…ˆåŒ¯å‡ºå‚™ä»½ã€‚')) {
                        localStorage.clear();
                        prompts = [];
                        currentUser = null;
                        this.updateUserUI();
                        this.renderPrompts();
                        this.showNotification('ğŸ—‘ï¸ æ‰€æœ‰è³‡æ–™å·²æ¸…é™¤', 'warning');
                    }
                }
            }

            // Utility Functions
            updateSyncStatus() {
                const lastSync = localStorage.getItem('prompthub_last_sync');
                if (lastSync) {
                    const syncTime = new Date(parseInt(lastSync));
                    console.log(`ä¸Šæ¬¡åŒæ­¥ï¼š${syncTime.toLocaleString()}`);
                }
            }

            processSyncQueue() {
                // è™•ç†é›¢ç·šæ™‚ç´¯ç©çš„æ“ä½œ
                if (syncQueue.length > 0) {
                    console.log(`è™•ç† ${syncQueue.length} å€‹å¾…åŒæ­¥æ“ä½œ`);
                    syncQueue = [];
                }
            }

            showNotification(message, type = 'default') {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.className = `notification ${type}`;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }

            showWelcomeMessage() {
                setTimeout(() => {
                    this.showNotification('ğŸ‰ æ­¡è¿ä½¿ç”¨ PromptHubï¼', 'success');
                }, 500);
            }
        }

        // å…¨åŸŸå‡½æ•¸ (ä¾› HTML èª¿ç”¨)
        let app;

        // åˆå§‹åŒ–æ‡‰ç”¨ç¨‹å¼
        document.addEventListener('DOMContentLoaded', function() {
            app = new PromptHubApp();
            
            // è‡ªå‹•å„²å­˜è‰ç¨¿
            ['promptTitle', 'promptContent', 'promptDescription', 'promptTags'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', () => {
                        clearTimeout(element.draftTimer);
                        element.draftTimer = setTimeout(() => app.saveDraft(), 1000);
                    });
                }
            });
        });

        // å…¨åŸŸè¼”åŠ©å‡½æ•¸
        function showAddModal() { app.showAddModal(); }
        function closeModal() { app.closeAllModals(); }
        function closeLoginModal() { app.closeModal('loginModal'); }
        function closeDataModal() { app.closeModal('dataModal'); }
        function toggleAuth() { app.toggleAuth(); }
        function showRegister() { app.showNotification('è¨»å†ŠåŠŸèƒ½é–‹ç™¼ä¸­...', 'warning'); }
        function saveDraft() { app.saveDraft(); }
        function exportData() { app.exportData(); }
        function importData(file) { app.importData(file); }
        function clearAllData() { app.clearAllData(); }

        // é–‹ç™¼è€…å·¥å…·
        window.promptHub = {
            app: () => app,
            prompts: () => prompts,
            user: () => currentUser,
            addSampleData: () => {
                // å¯ä»¥æ·»åŠ æ›´å¤šç¤ºä¾‹è³‡æ–™ç”¨æ–¼æ¸¬è©¦
                app.showNotification('ç¤ºä¾‹è³‡æ–™åŠŸèƒ½å¯åœ¨é–‹ç™¼éšæ®µä½¿ç”¨');
            }
        };

        console.log('ğŸš€ PromptHub åˆå§‹åŒ–å®Œæˆï¼');
        console.log('ğŸ’¡ ä½¿ç”¨ window.promptHub å­˜å–é–‹ç™¼è€…å·¥å…·');
    </script>
</body>
</html>